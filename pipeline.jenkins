 pipeline {
 	agent any
      stages {
  stage('Run tests') {
          steps {
             catchError {
                script {
         	docker run -p 8080:8080 -v
            /var/run/docker.sock:/var/run/docker.sock voyant/maven-openjdk16:latest
         }
       }
       }
       }
      stage('Build') {
        steps {
      	  bat 'docker-compose -f docker-compose.yml up --abort-on-container-exit'
            }
        }
     }
   }
